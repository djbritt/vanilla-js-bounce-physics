<!DOCTYPE html>
<html>
<head>
  <style>
  #canvas {
    border: 1px solid black;
  }
  </style>
</head>
<body>
  <canvas id="canvas" width="500" height="500"></canvas>
  <script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  let x1 = Math.random() * canvas.width;
  let y1 = Math.random() * canvas.height;
  let x2 = Math.random() * canvas.width;
  let y2 = Math.random() * canvas.height;
  let x3 = Math.random() * canvas.width;
  let y3 = Math.random() * canvas.height;
  let dx1 = 5;
  let dy1 = 5;
  let dx2 = 5;
  let dy2 = 5;
  let dx3 = 5;
  let dy3 = 5;

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.fillStyle = "red";
    ctx.fillRect(x1, y1, 50, 50);
    ctx.fillRect(x2, y2, 50, 50);
    ctx.fillRect(x3, y3, 50, 50);

    x1 += dx1;
    y1 += dy1;
    x2 += dx2;
    y2 += dy2;
    x3 += dx3;
    y3 += dy3;

    if (x1 < 0 || x1 > canvas.width - 50) {
      dx1 = -dx1;
    }
    if (y1 < 0 || y1 > canvas.height - 50) {
      dy1 = -dy1;
    }
    if (x2 < 0 || x2 > canvas.width - 50) {
      dx2 = -dx2;
    }
    if (y2 < 0 || y2 > canvas.height - 50) {
      dy2 = -dy2;
    }
    if (x3 < 0 || x3 > canvas.width - 50) {
      dx3 = -dx3;
    }
    if (y3 < 0 || y3 > canvas.height - 50) {
      dy3 = -dy3;
    }
    // Bounce logic for squares colliding with each other
    if (x1 + 50 >= x2 && x1 <= x2 + 50 && y1 + 50 >= y2 && y1 <= y2 + 50) {
      dx1 = -dx1;
      dy1 = -dy1;
      dx2 = -dx2;
      dy2 = -dy2;
    }
    if (x1 + 50 >= x3 && x1 <= x3 + 50 && y1 + 50 >= y3 && y1 <= y3 + 50) {
      dx1 = -dx1;
      dy1 = -dy1;
      dx3 = -dx3;
      dy3 = -dy3;
    }
      if (x2 + 50 >= x3 && x2 <= x3 + 50 && y2 + 50 >= y3 && y2 <= y3 + 50) {
        dx2 = -dx2;
        dy2 = -dy2;
        dx3 = -dx3;
        dy3 = -dy3;
      }

      requestAnimationFrame(draw);
    }

    draw();
    </script>
    </body>
    </html>
